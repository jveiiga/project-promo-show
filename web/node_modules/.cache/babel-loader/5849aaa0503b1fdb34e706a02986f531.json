{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport axios from 'axios';\nimport useDebouncedPromise from 'components/utils/useDebouncedPromise';\nconst initialRequestInfo = {\n  error: null,\n  data: null,\n  loading: false\n};\nexport default function useApi(config) {\n  _s();\n\n  const [requestInfo, setRequestInfo] = useState(initialRequestInfo);\n  const debouncedAxios = useDebouncedPromise(axios, config.debouncedDelay);\n\n  async function call(localconfig) {\n    setRequestInfo({ ...initialRequestInfo,\n      loading: true\n    });\n    let response = null;\n    const finalConfig = {\n      baseURL: 'http://localhost:5000',\n      ...config,\n      ...localconfig\n    };\n    const fn = finalConfig.debounced ? debouncedAxios : axios;\n\n    try {\n      response = await fn(finalonfig);\n      setRequestInfo({ ...initialRequestInfo,\n        data: response.data\n      });\n    } catch (error) {\n      setRequestInfo({ ...initialRequestInfo,\n        error\n      });\n    }\n\n    if (config.onCompleted) {\n      config.onCompleted(response);\n    }\n\n    return response;\n  }\n\n  return [call, requestInfo];\n}\n\n_s(useApi, \"EEfmtsDFSsj4OId9JjyW9aDzXdc=\", false, function () {\n  return [useDebouncedPromise];\n});","map":{"version":3,"sources":["/Users/jefersonveiga/Documents/new-project/project-promo-show/web/src/components/utils/useApi.js"],"names":["useState","axios","useDebouncedPromise","initialRequestInfo","error","data","loading","useApi","config","requestInfo","setRequestInfo","debouncedAxios","debouncedDelay","call","localconfig","response","finalConfig","baseURL","fn","debounced","finalonfig","onCompleted"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,mBAAP,MAAgC,sCAAhC;AAEA,MAAMC,kBAAkB,GAAG;AACvBC,EAAAA,KAAK,EAAE,IADgB;AAEvBC,EAAAA,IAAI,EAAE,IAFiB;AAGvBC,EAAAA,OAAO,EAAE;AAHc,CAA3B;AAMA,eAAe,SAASC,MAAT,CAAgBC,MAAhB,EAAwB;AAAA;;AACnC,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCV,QAAQ,CAACG,kBAAD,CAA9C;AACA,QAAMQ,cAAc,GAAGT,mBAAmB,CAACD,KAAD,EAAQO,MAAM,CAACI,cAAf,CAA1C;;AAEA,iBAAeC,IAAf,CAAoBC,WAApB,EAAiC;AAC/BJ,IAAAA,cAAc,CAAC,EACb,GAAGP,kBADU;AAEbG,MAAAA,OAAO,EAAE;AAFI,KAAD,CAAd;AAKA,QAAIS,QAAQ,GAAG,IAAf;AAEA,UAAMC,WAAW,GAAG;AAChBC,MAAAA,OAAO,EAAE,uBADO;AAEhB,SAAGT,MAFa;AAGhB,SAAGM;AAHa,KAApB;AAMA,UAAMI,EAAE,GAAGF,WAAW,CAACG,SAAZ,GAAwBR,cAAxB,GAAyCV,KAApD;;AAEA,QAAI;AACAc,MAAAA,QAAQ,GAAG,MAAMG,EAAE,CAACE,UAAD,CAAnB;AACAV,MAAAA,cAAc,CAAC,EACb,GAAGP,kBADU;AAEbE,QAAAA,IAAI,EAAEU,QAAQ,CAACV;AAFF,OAAD,CAAd;AAIH,KAND,CAME,OAAOD,KAAP,EAAc;AACdM,MAAAA,cAAc,CAAC,EACX,GAAGP,kBADQ;AAEXC,QAAAA;AAFW,OAAD,CAAd;AAID;;AAED,QAAII,MAAM,CAACa,WAAX,EAAwB;AACtBb,MAAAA,MAAM,CAACa,WAAP,CAAmBN,QAAnB;AACD;;AACD,WAAOA,QAAP;AACD;;AAGD,SAAO,CACHF,IADG,EAEHJ,WAFG,CAAP;AAIH;;GA5CuBF,M;UAEGL,mB","sourcesContent":["import { useState } from 'react'\nimport axios from 'axios';\nimport useDebouncedPromise from 'components/utils/useDebouncedPromise'\n\nconst initialRequestInfo = {\n    error: null,\n    data: null,\n    loading: false,\n};\n\nexport default function useApi(config) {\n    const [requestInfo, setRequestInfo] = useState(initialRequestInfo)\n    const debouncedAxios = useDebouncedPromise(axios, config.debouncedDelay) \n\n    async function call(localconfig) {\n      setRequestInfo({\n        ...initialRequestInfo,\n        loading: true,\n      });\n\n      let response = null;\n\n      const finalConfig = {\n          baseURL: 'http://localhost:5000',\n          ...config, \n          ...localconfig\n      }\n\n      const fn = finalConfig.debounced ? debouncedAxios : axios;\n\n      try {\n          response = await fn(finalonfig);\n          setRequestInfo({\n            ...initialRequestInfo,\n            data: response.data,\n          });\n      } catch (error) {\n        setRequestInfo({\n            ...initialRequestInfo,\n            error,\n        })\n      }\n \n      if (config.onCompleted) {\n        config.onCompleted(response);\n      }\n      return response;\n    }\n\n\n    return [\n        call,\n        requestInfo\n    ]\n}"]},"metadata":{},"sourceType":"module"}