{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport axios from 'axios';\nconst initialRequestInfo = {\n  error: null,\n  data: null,\n  loading: false\n};\nexport default function useApi(config) {\n  _s();\n\n  const [requestInfo, setRequestInfo] = useState(initialRequestInfo);\n  const debouncedAxios = useDebouncedPromise(axios, config.debouncedDelay);\n\n  async function call(localconfig) {\n    setRequestInfo({ ...initialRequestInfo,\n      loading: true\n    });\n    let response = null;\n\n    try {\n      response = await debouncedPromise({\n        baseURL: 'http://localhost:5000',\n        ...config,\n        ...localconfig\n      });\n      setRequestInfo({ ...initialRequestInfo,\n        data: response.data\n      });\n    } catch (error) {\n      setRequestInfo({ ...initialRequestInfo,\n        error\n      });\n    }\n\n    if (config.onCompleted) {\n      config.onCompleted(response);\n    }\n\n    return response;\n  }\n\n  return [call, requestInfo];\n}\n\n_s(useApi, \"EEfmtsDFSsj4OId9JjyW9aDzXdc=\", true);","map":{"version":3,"sources":["/Users/jefersonveiga/Documents/new-project/project-promo-show/web/src/components/utils/useApi.js"],"names":["useState","axios","initialRequestInfo","error","data","loading","useApi","config","requestInfo","setRequestInfo","debouncedAxios","useDebouncedPromise","debouncedDelay","call","localconfig","response","debouncedPromise","baseURL","onCompleted"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,kBAAkB,GAAG;AACvBC,EAAAA,KAAK,EAAE,IADgB;AAEvBC,EAAAA,IAAI,EAAE,IAFiB;AAGvBC,EAAAA,OAAO,EAAE;AAHc,CAA3B;AAMA,eAAe,SAASC,MAAT,CAAgBC,MAAhB,EAAwB;AAAA;;AACnC,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCT,QAAQ,CAACE,kBAAD,CAA9C;AACA,QAAMQ,cAAc,GAAGC,mBAAmB,CAACV,KAAD,EAAQM,MAAM,CAACK,cAAf,CAA1C;;AAEA,iBAAeC,IAAf,CAAoBC,WAApB,EAAiC;AAC/BL,IAAAA,cAAc,CAAC,EACb,GAAGP,kBADU;AAEbG,MAAAA,OAAO,EAAE;AAFI,KAAD,CAAd;AAIA,QAAIU,QAAQ,GAAG,IAAf;;AACA,QAAI;AACAA,MAAAA,QAAQ,GAAG,MAAMC,gBAAgB,CAAC;AAC9BC,QAAAA,OAAO,EAAE,uBADqB;AAE9B,WAAGV,MAF2B;AAG9B,WAAGO;AAH2B,OAAD,CAAjC;AAKAL,MAAAA,cAAc,CAAC,EACb,GAAGP,kBADU;AAEbE,QAAAA,IAAI,EAAEW,QAAQ,CAACX;AAFF,OAAD,CAAd;AAIH,KAVD,CAUE,OAAOD,KAAP,EAAc;AACdM,MAAAA,cAAc,CAAC,EACX,GAAGP,kBADQ;AAEXC,QAAAA;AAFW,OAAD,CAAd;AAID;;AAED,QAAII,MAAM,CAACW,WAAX,EAAwB;AACtBX,MAAAA,MAAM,CAACW,WAAP,CAAmBH,QAAnB;AACD;;AACD,WAAOA,QAAP;AACD;;AAGD,SAAO,CACHF,IADG,EAEHL,WAFG,CAAP;AAIH;;GAtCuBF,M","sourcesContent":["import { useState } from 'react'\nimport axios from 'axios';\n\nconst initialRequestInfo = {\n    error: null,\n    data: null,\n    loading: false,\n};\n\nexport default function useApi(config) {\n    const [requestInfo, setRequestInfo] = useState(initialRequestInfo)\n    const debouncedAxios = useDebouncedPromise(axios, config.debouncedDelay) \n\n    async function call(localconfig) {\n      setRequestInfo({\n        ...initialRequestInfo,\n        loading: true,\n      });\n      let response = null;\n      try {\n          response = await debouncedPromise({\n              baseURL: 'http://localhost:5000',\n              ...config, \n              ...localconfig\n          });\n          setRequestInfo({\n            ...initialRequestInfo,\n            data: response.data,\n          });\n      } catch (error) {\n        setRequestInfo({\n            ...initialRequestInfo,\n            error,\n        })\n      }\n \n      if (config.onCompleted) {\n        config.onCompleted(response);\n      }\n      return response;\n    }\n\n\n    return [\n        call,\n        requestInfo\n    ]\n}"]},"metadata":{},"sourceType":"module"}