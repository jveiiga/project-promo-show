{"ast":null,"code":"var _jsxFileName = \"/Users/jefersonveiga/Documents/new-project/project-promo-show/web/src/components/Promotion/Form/Form.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router';\nimport useApi from 'components/utils/useApi';\nimport { Formik } from 'formik';\nimport './Form.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialValue = {\n  title: '',\n  url: '',\n  imageUrl: '',\n  price: 0\n};\n\nconst PromotionForm = ({\n  id\n}) => {\n  _s();\n\n  const [values, setValues] = useState(id ? null : initialValue);\n  const history = useHistory();\n  const [load] = useApi({\n    url: `/promotions/${id}`,\n    method: 'get',\n    onCompleted: response => {\n      setValues(response.data);\n    }\n  });\n  const [save, saveInfo] = useApi({\n    url: id ? `/promotions/${id}` : '/promotions',\n    method: id ? 'put' : 'post',\n    onCompleted: response => {\n      if (!response.error) {\n        history.push('/');\n      }\n    }\n  });\n  useEffect(() => {\n    if (id) {\n      load();\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [id]);\n\n  function onChange(ev) {\n    const {\n      name,\n      value\n    } = ev.target;\n    setValues({ ...values,\n      [name]: value\n    });\n  }\n\n  function onSubmit(ev) {\n    ev.preventDefault();\n    save({\n      data: values\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Promo Show\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Nova Promo\\xE7\\xE3o\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), !values ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Carregando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 14\n    }, this) : /*#__PURE__*/_jsxDEV(Formik, {\n      render: () => /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        children: [saveInfo.loading && /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Salvando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 32\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"promotion-form__group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"title\",\n            children: \"T\\xEDtulo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"title\",\n            name: \"title\",\n            type: \"text\",\n            onChange: onChange,\n            value: values.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"promotion-form__group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"url\",\n            children: \"Link\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"url\",\n            name: \"url\",\n            type: \"text\",\n            onChange: onChange,\n            value: values.url\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"promotion-form__group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"imageUrl\",\n            children: \"Imagen (URL)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"imageUrl\",\n            name: \"imageUrl\",\n            type: \"text\",\n            onChange: onChange,\n            value: values.imageUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"promotion-form__group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"price\",\n            children: \"Pre\\xE7o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"price\",\n            name: \"price\",\n            type: \"number\",\n            onChange: onChange,\n            value: values.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Salvar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 7\n  }, this);\n};\n\n_s(PromotionForm, \"pNbBS9jJz1akN6ofYzS9unyvKmo=\", false, function () {\n  return [useHistory, useApi, useApi];\n});\n\n_c = PromotionForm;\nexport default PromotionForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"PromotionForm\");","map":{"version":3,"sources":["/Users/jefersonveiga/Documents/new-project/project-promo-show/web/src/components/Promotion/Form/Form.js"],"names":["React","useState","useEffect","useHistory","useApi","Formik","initialValue","title","url","imageUrl","price","PromotionForm","id","values","setValues","history","load","method","onCompleted","response","data","save","saveInfo","error","push","onChange","ev","name","value","target","onSubmit","preventDefault","loading"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router';\nimport useApi from 'components/utils/useApi';\nimport { Formik } from 'formik'\n\nimport './Form.css';\n\nconst initialValue = {\n    title:'',\n    url:'',\n    imageUrl:'',\n    price: 0,\n}\n\nconst PromotionForm = ({ id }) => {\n  const [values, setValues] = useState(id ? null : initialValue);\n  const history = useHistory();\n  const [load] = useApi({\n    url: `/promotions/${id}`,\n    method: 'get',\n    onCompleted:(response) => {\n      setValues(response.data);\n    }\n  })\n\n  const [save, saveInfo] = useApi({\n    url: id ? `/promotions/${id}` : '/promotions',\n    method: id ? 'put' : 'post',  \n    onCompleted: (response) => {\n      if(!response.error) {\n        history.push('/');\n      }\n    }\n  })\n\n  useEffect(() => {\n    if (id) {\n      load();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n\n  function onChange(ev) {\n     const { name, value } = ev.target;\n\n     setValues({ ...values, [name]: value });\n  }\n\n  function onSubmit(ev) {\n    ev.preventDefault();\n    save({\n      data: values,\n    });\n  }\n\n  \n  return (\n      <div>\n        <h1>Promo Show</h1>\n        <h2>Nova Promoção</h2>\n\n        {!values\n           ? ( \n             <div>Carregando...</div>\n      ) : (\n        <Formik \n          render={() => (\n        <form onSubmit={onSubmit}>\n          {saveInfo.loading && <span>Salvando...</span>}\n            <div className=\"promotion-form__group\">\n                <label htmlFor=\"title\">Título</label>\n                <input id=\"title\" name=\"title\" type=\"text\" onChange={onChange} value={values.title} />\n            </div>\n            <div className=\"promotion-form__group\">\n                <label htmlFor=\"url\">Link</label>\n                <input id=\"url\" name=\"url\" type=\"text\" onChange={onChange} value={values.url} />\n            </div>\n            <div className=\"promotion-form__group\">\n                <label htmlFor=\"imageUrl\">Imagen (URL)</label>\n                <input id=\"imageUrl\" name=\"imageUrl\" type=\"text\" onChange={onChange} value={values.imageUrl} />\n            </div>\n            <div className=\"promotion-form__group\">\n                <label htmlFor=\"price\">Preço</label>\n                <input id=\"price\" name=\"price\" type=\"number\" onChange={onChange} value={values.price} />\n            </div>\n            <div>\n                <button type=\"submit\">Salvar</button>\n            </div>\n        </form>\n            \n          )}\n        />\n        )}\n        </div>\n    )\n}\n\nexport default PromotionForm;"]},"metadata":{},"sourceType":"module"}